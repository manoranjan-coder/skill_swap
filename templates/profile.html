<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Profile</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
      position: relative;
    }
    .skill-tag {
      transition: all 0.3s ease;
    }
    .skill-tag:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
    }
    .nav-link {
      position: relative;
    }
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 3px;
      background: linear-gradient(90deg, #ff6b6b, #ff9e6b);
      transition: width 0.3s ease;
      border-radius: 2px;
    }
    .nav-link:hover::after {
      width: 100%;
    }
    .next-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #4ade80;
      color: #065f46;
      padding: 0.75rem 1.5rem;
      border-radius: 0.75rem;
      font-weight: 600;
      box-shadow: 0 4px 6px rgba(34, 197, 94, 0.5);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      border: none;
      z-index: 50;
    }
    .next-button:hover {
      background: #22c55e;
      box-shadow: 0 6px 12px rgba(34, 197, 94, 0.7);
    }
  </style>
</head>
<body class="text-gray-800">
  <div class="max-w-4xl mx-auto">
    <!-- Navigation -->
    <nav class="bg-gradient-to-r from-purple-600 to-indigo-700 rounded-xl p-4 mb-6 shadow-xl flex justify-between items-center">
      <div class="flex items-center space-x-4 mr-6">
        <a href="{{ url_for('chatsystem') }}" aria-label="Messages" class="text-white hover:text-gray-300 text-lg">
  <i class="fas fa-envelope"></i>
</a>

        <a href="{{ url_for('feedback') }}" aria-label="Settings" class="text-white hover:text-gray-300 text-lg">
  <i class="fas fa-cog"></i>
</a>

      </div>
      <div class="text-white">
        <h1 class="text-xl font-bold">Profile Dashboard</h1>
        <p class="text-purple-200">Welcome, {{ name }} ({{ email }})</p>
      </div>
      <div class="flex space-x-5">
        <a href="{{ url_for('profile') }}" class="nav-link text-white font-medium">Profile</a>
        <a href="{{ url_for('edit_skills') }}" class="nav-link text-white font-medium">Skills</a>
        <a href="{{ url_for('edit_bio') }}" class="nav-link text-white font-medium">Bio</a>
        <a href="{{ url_for('logout') }}" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium transition-all shadow-md">Logout</a>
      </div>
    </nav>

    <!-- Profile Content -->
    <div class="bg-white rounded-2xl shadow-xl overflow-hidden p-8">
      <div class="flex flex-col md:flex-row gap-8">
        <!-- User Info -->
        <div class="md:w-1/3">
          <div class="bg-gradient-to-br from-blue-500 to-cyan-400 rounded-2xl p-6 text-center text-white shadow-lg">
            <div class="w-32 h-32 bg-white rounded-full mx-auto mb-4 overflow-hidden shadow-lg">
              <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/be5c8a0d-4d74-41e4-a008-fe23a5ae6909.png" alt="Profile picture" class="w-full h-full object-cover">
            </div>
            <h2 class="text-2xl font-bold">{{ name }}</h2>
            <p class="text-blue-100">{{ email }}</p>
            <div class="mt-4 flex justify-center space-x-4">
              <div class="bg-white bg-opacity-20 p-2 rounded-lg">
                <i class="fab fa-twitter"></i>
              </div>
              <div class="bg-white bg-opacity-20 p-2 rounded-lg">
                <i class="fab fa-linkedin-in"></i>
              </div>
              <div class="bg-white bg-opacity-20 p-2 rounded-lg">
                <i class="fab fa-github"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Bio & Skills -->
        <div class="md:w-2/3">
          <div class="bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl p-6 text-white shadow-lg mb-6">
            <h3 class="text-xl font-bold mb-3">Bio</h3>
            <p class="text-purple-100">
              {% if bio %}
                {{ bio }}
              {% else %}
                This is your bio section. You can edit it later.
              {% endif %}
            </p>
          </div>

          <div class="bg-gradient-to-br from-green-500 to-teal-500 rounded-2xl p-6 text-white shadow-lg">
            <h3 class="text-xl font-bold mb-3">Skills</h3>
            <div class="flex flex-wrap gap-2">
              {% if skills %}
                {% for skill in skills %}
                  <span class="skill-tag bg-white bg-opacity-20 px-4 py-2 rounded-full">{{ skill }}</span>
                {% endfor %}
              {% else %}
                <p class="text-green-100">No skills added yet. Go to Skills tab to add some!</p>
              {% endif %}
            </div>
          </div>

          <!-- New section: list users to chat with -->
          <div class="mt-8 bg-white bg-opacity-20 p-6 rounded-2xl text-white shadow-lg">
            <h3 class="text-lg font-bold mb-3">Chat with someone:</h3>
            <ul class="space-y-2">
              {% for u in users %}
                {% if u.email != email %}
                  <li>
                    <a href="{{ url_for('chat', recipient_email=u.email) }}" class="text-white underline">
                      Chat with {{ u.fullname }}
                    </a>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Next Button -->
  <button class="next-button" type="button" onclick="window.location.href='{{ url_for('search') }}';">
    Next
  </button>
</body>
</html>
